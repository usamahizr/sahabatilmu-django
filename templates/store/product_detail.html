{% extends 'base.html' %}   <!--letak base templete kat atas cam biasa-->
{% load static %}

{% block content %}

<section class="section-content padding-y bg">
<div class="container">

<!-- ============================ COMPONENT 1 ================================= -->
<div class="card">
	<div class="row no-gutters">
		<aside class="col-md-6">
<article class="gallery-wrap">
	<div class="img-big-wrap">
	   <a href="#"><img src="{{ single_product.images.url}}"></a>
	</div> <!-- img-big-wrap.// -->

</article> <!-- gallery-wrap .end// -->
		</aside>
		<main class="col-md-6 border-left">

			<form action="{% url 'add_cart' single_product.id %}" method= "POST">    <!-- ============================ create form untuk VARIATION ================================= -->
				{% csrf_token %}
				<article class="content-body">

				<h2 class="title">{{ single_product.product_name }}</h2>

				<div class="mb-3">
					<var class="price h4">RM {{single_product.price}}</var>
				</div>

				<p>{{ single_product.description }}</p>


				<hr>
					<div class="row"> <!------------------ variation  1 --------------------------- -->
						<div class="item-option-select">
							<h6>Choose Color</h6> <!-- ============================ COLOUR VARIATION ================================= -->
								<select name="color" class="form-control" required>  <!-- sini fx select kat page --> <!-- "required" withpout selecting that variotion, we can't go further -->
									<option value="" disabled selected>Select</option> <!-- by default this otion will be selected -->
									{% for i in single_product.variation_set.colors %}  <!-- "single_product" kita nak akses ke single produk....."variation_set.all"..."_set.all" dia akan bring all data from variation -->
									<option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option>
									{% endfor %}
								</select>
						</div>
					</div> <!-- row.// -->
					<div class="row"> <!------------------ variation 2 --------------------------- -->
						<div class="item-option-select">
							<h6>Select Size</h6>
								<select name="size" class="form-control">
									<option value="" disabled selected>Select</option>
									{% for i in single_product.variation_set.sizes %}  <!-- "single_product" kita nak akses ke single produk....."variation_set.all"..."_set.all" dia akan bring all data from variation -->
									<option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option> <!-- "capfirst"....make sure it no in small letter dekat URL ()minit 7.07  -->
									{% endfor %}
								</select>
						</div>
					</div> 	<!-- row.// -->
					<hr>
					{% if single_product.stock <= 0 %} <!-- ============================ OUT OF STOCK ================================= -->
						<h5 class="text-danger">Out of stock</h5>
						{% else %}
							<button type="submit" class="btn  btn-primary"> <span class="text">Add to Cart</span> <i class="fas fa-shopping-cart"></i>  </button> <!-- dia pass product id dengan tulis **single_product.id*** // -->
					{% endif %}
				</article> <!-- product-info-aside .// -->
		</form>
		</main> <!-- col.// -->
	</div> <!-- row.// -->
</div> <!-- card.// -->
<!-- ============================ COMPONENT 1 END .// ================================= -->

<br>

<div class="row">
			<div class="col-md-9">

	<header class="section-heading">
		<h3>Customer Reviews </h3>

	</header>

	<article class="box mb-3">
		<div class="icontext w-100">
			<img src="{% static './images/avatars/avatar1C.jpg' %}" class="img-xs icon rounded-circle">
			<div class="text">
				<span class="date text-muted float-md-right">24.04.2022 </span>
				<h6 class="mb-1">Zizan Razak </h6>

			</div>
		</div> <!-- icontext.// -->
		<div class="mt-3">
			<p>
				Barang yang dijual sangat-sangat berkualiti, pembungkusan yang sangat teliti, barang sampai dalam keadaan selamat
        insya Allah akan repeat lagi untuk beli dari kedai ni, sangat-sangat recomended
			</p>
		</div>
	</article>



	</div> <!-- col.// -->
</div> <!-- row.// -->


</div> <!-- container .//  -->
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

{% endblock %} <!--letak footer templete kat bawah-->
